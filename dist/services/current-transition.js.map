{"version":3,"file":"current-transition.js","sources":["../../src/services/current-transition.ts"],"sourcesContent":["import { action } from '@ember/object';\nimport type RouterService from '@ember/routing/router-service';\nimport type Transition from '@ember/routing/transition';\nimport Service, { service } from '@ember/service';\nimport { tracked } from '@glimmer/tracking';\n\nexport default class CurrentTransitionService extends Service {\n  @tracked currentTransition?: Transition;\n  @service declare router: RouterService;\n\n  @action\n  setCurrentTransition(t: Transition) {\n    this.currentTransition = t;\n  }\n\n  @action\n  goBack(route: string) {\n    if (!this.currentTransition?.from?.name) {\n      this.router.transitionTo(route);\n      return;\n    }\n\n    this.router.transitionTo(\n      this.currentTransition.from.name,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      ...(Object.values(this.currentTransition.from.params) as any),\n      {\n        queryParams: this.currentTransition.from.queryParams,\n      },\n    );\n  }\n}\n\ndeclare module '@ember/service' {\n  interface Registry {\n    'current-transition': CurrentTransitionService;\n  }\n}\n"],"names":["CurrentTransitionService","_class","Service","constructor","args","_initializerDefineProperty","_descriptor","_descriptor2","setCurrentTransition","t","currentTransition","goBack","route","from","name","router","transitionTo","Object","values","params","queryParams","_applyDecoratedDescriptor","prototype","tracked","configurable","enumerable","writable","initializer","service","action","getOwnPropertyDescriptor"],"mappings":";;;;;;AAMqBA,IAAAA,wBAAwB,IAAAC,MAAA,GAA9B,MAAMD,wBAAwB,SAASE,OAAO,CAAC;AAAAC,EAAAA,WAAAA,CAAA,GAAAC,IAAA,EAAA;AAAA,IAAA,KAAA,CAAA,GAAAA,IAAA,CAAA,CAAA;AAAAC,IAAAA,0BAAA,4BAAAC,WAAA,EAAA,IAAA,CAAA,CAAA;AAAAD,IAAAA,0BAAA,iBAAAE,YAAA,EAAA,IAAA,CAAA,CAAA;AAAA,GAAA;EAK5DC,oBAAoBA,CAACC,CAAa,EAAE;IAClC,IAAI,CAACC,iBAAiB,GAAGD,CAAC,CAAA;AAC5B,GAAA;EAGAE,MAAMA,CAACC,KAAa,EAAE;IACpB,IAAI,CAAC,IAAI,CAACF,iBAAiB,EAAEG,IAAI,EAAEC,IAAI,EAAE;AACvC,MAAA,IAAI,CAACC,MAAM,CAACC,YAAY,CAACJ,KAAK,CAAC,CAAA;AAC/B,MAAA,OAAA;AACF,KAAA;IAEA,IAAI,CAACG,MAAM,CAACC,YAAY,CACtB,IAAI,CAACN,iBAAiB,CAACG,IAAI,CAACC,IAAI;AAChC;AACA,IAAA,GAAIG,MAAM,CAACC,MAAM,CAAC,IAAI,CAACR,iBAAiB,CAACG,IAAI,CAACM,MAAM,CAAS,EAC7D;AACEC,MAAAA,WAAW,EAAE,IAAI,CAACV,iBAAiB,CAACG,IAAI,CAACO,WAAAA;AAC3C,KACF,CAAC,CAAA;AACH,GAAA;AACF,CAAC,GAAAd,WAAA,GAAAe,yBAAA,CAAApB,MAAA,CAAAqB,SAAA,EAAA,mBAAA,EAAA,CAxBEC,OAAO,CAAA,EAAA;EAAAC,YAAA,EAAA,IAAA;EAAAC,UAAA,EAAA,IAAA;EAAAC,QAAA,EAAA,IAAA;EAAAC,WAAA,EAAA,IAAA;AAAA,CAAApB,CAAAA,EAAAA,YAAA,GAAAc,yBAAA,CAAApB,MAAA,CAAAqB,SAAA,aACPM,OAAO,CAAA,EAAA;EAAAJ,YAAA,EAAA,IAAA;EAAAC,UAAA,EAAA,IAAA;EAAAC,QAAA,EAAA,IAAA;EAAAC,WAAA,EAAA,IAAA;AAAA,CAAA,CAAA,EAAAN,yBAAA,CAAApB,MAAA,CAAAqB,SAAA,EAAA,sBAAA,EAAA,CAEPO,MAAM,CAAAZ,EAAAA,MAAA,CAAAa,wBAAA,CAAA7B,MAAA,CAAAqB,SAAA,EAAArB,sBAAAA,CAAAA,EAAAA,MAAA,CAAAqB,SAAA,CAAA,EAAAD,yBAAA,CAAApB,MAAA,CAAAqB,SAAA,aAKNO,MAAM,CAAA,EAAAZ,MAAA,CAAAa,wBAAA,CAAA7B,MAAA,CAAAqB,SAAA,EAAA,QAAA,CAAA,EAAArB,MAAA,CAAAqB,SAAA,IAAArB,MAAA;;;;"}