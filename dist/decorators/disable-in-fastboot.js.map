{"version":3,"file":"disable-in-fastboot.js","sources":["../../src/decorators/disable-in-fastboot.ts"],"sourcesContent":["import { assert } from '@ember/debug';\nimport { getOwner } from '@ember/application';\n\nexport default function disableInFastboot(\n  _target: object,\n  _propertyKey: string | symbol,\n  desc: PropertyDescriptor,\n): void {\n  const orig = desc.value;\n  assert(\n    'The @isFasboot decorator must be applied to methods',\n    typeof orig === 'function',\n  );\n\n  desc.value = function (...args: unknown[]) {\n    const owner = getOwner(this);\n    assert('You must have an owner in isFastboot decorator', !!owner);\n\n    const fastboot = owner.lookup('service:fastboot') as unknown as {\n      isFastBoot: boolean;\n    };\n\n    if (fastboot.isFastBoot) {\n      return;\n    }\n\n    return orig.apply(this, args);\n  };\n}\n"],"names":["disableInFastboot","_target","_propertyKey","desc","orig","value","assert","args","owner","getOwner","fastboot","lookup","isFastBoot","apply"],"mappings":";;;AAGe,SAASA,iBAAiBA,CACvCC,OAAe,EACfC,YAA6B,EAC7BC,IAAwB,EAClB;AACN,EAAA,MAAMC,IAAI,GAAGD,IAAI,CAACE,KAAK,CAAA;AACvBC,EAAAA,MAAM,CACJ,qDAAqD,EACrD,OAAOF,IAAI,KAAK,UAClB,CAAC,CAAA;AAEDD,EAAAA,IAAI,CAACE,KAAK,GAAG,UAAU,GAAGE,IAAe,EAAE;AACzC,IAAA,MAAMC,KAAK,GAAGC,QAAQ,CAAC,IAAI,CAAC,CAAA;AAC5BH,IAAAA,MAAM,CAAC,gDAAgD,EAAE,CAAC,CAACE,KAAK,CAAC,CAAA;AAEjE,IAAA,MAAME,QAAQ,GAAGF,KAAK,CAACG,MAAM,CAAC,kBAAkB,CAE/C,CAAA;IAED,IAAID,QAAQ,CAACE,UAAU,EAAE;AACvB,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,OAAOR,IAAI,CAACS,KAAK,CAAC,IAAI,EAAEN,IAAI,CAAC,CAAA;GAC9B,CAAA;AACH;;;;"}