{"version":3,"file":"truncate.js","sources":["../../src/helpers/truncate.ts"],"sourcesContent":["import { helper } from '@ember/component/helper';\n\nexport interface TruncateSignature {\n  Args: {\n    Positional: [string, number];\n  };\n  Return: string;\n}\n\nexport function truncate(params: [string, number] /*, hash*/) {\n  const sanitizeStr = params[0].replace(/<\\/?[^>]+(>|$)/g, '');\n  const max = params[1];\n\n  const array = sanitizeStr\n    .trim()\n    .split(' ')\n    .filter((str: string) => str !== '');\n  const ellipsis = array.length > max ? '...' : '';\n\n  return array.slice(0, max).join(' ') + ellipsis;\n}\n\nconst truncateHelper = helper<TruncateSignature>(truncate);\n\nexport default truncateHelper;\n\ndeclare module '@glint/environment-ember-loose/registry' {\n  export default interface Registry {\n    truncate: typeof truncateHelper;\n  }\n}\n"],"names":["truncate","params","sanitizeStr","replace","max","array","trim","split","filter","str","ellipsis","length","slice","join","truncateHelper","helper"],"mappings":";;AASO,SAASA,QAAQA,CAACC,MAAwB,EAAa;AAC5D,EAAA,MAAMC,WAAW,GAAGD,MAAM,CAAC,CAAC,CAAC,CAACE,OAAO,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAAA;AAC5D,EAAA,MAAMC,GAAG,GAAGH,MAAM,CAAC,CAAC,CAAC,CAAA;EAErB,MAAMI,KAAK,GAAGH,WAAW,CACtBI,IAAI,EAAE,CACNC,KAAK,CAAC,GAAG,CAAC,CACVC,MAAM,CAAEC,GAAW,IAAKA,GAAG,KAAK,EAAE,CAAC,CAAA;EACtC,MAAMC,QAAQ,GAAGL,KAAK,CAACM,MAAM,GAAGP,GAAG,GAAG,KAAK,GAAG,EAAE,CAAA;AAEhD,EAAA,OAAOC,KAAK,CAACO,KAAK,CAAC,CAAC,EAAER,GAAG,CAAC,CAACS,IAAI,CAAC,GAAG,CAAC,GAAGH,QAAQ,CAAA;AACjD,CAAA;AAEA,MAAMI,cAAc,GAAGC,MAAM,CAAoBf,QAAQ;;;;"}