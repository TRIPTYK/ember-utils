{"version":3,"file":"generic-diff.js","sources":["../../src/utils/generic-diff.ts"],"sourcesContent":["import type Model from '@ember-data/model';\nimport type ArrayProxy from '@ember/array/proxy';\n\nexport default function genericDiff<T extends { id?: string }, M extends Model>(\n  models: M[] | ArrayProxy<M>,\n  array: T[],\n) {\n  const persistedIds = array.filter((e) => e.id !== undefined).map((e) => e.id);\n  const left = array.filter((e) => e.id === undefined);\n  const deleted = models.filter(\n    (model) => !persistedIds.includes(model.id),\n  ) as M[];\n\n  return { deleted, left };\n}\n"],"names":["genericDiff","models","array","persistedIds","filter","e","id","undefined","map","left","deleted","model","includes"],"mappings":"AAGe,SAASA,WAAWA,CACjCC,MAA2B,EAC3BC,KAAU,EACV;EACA,MAAMC,YAAY,GAAGD,KAAK,CAACE,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKC,SAAS,CAAC,CAACC,GAAG,CAAEH,CAAC,IAAKA,CAAC,CAACC,EAAE,CAAC,CAAA;AAC7E,EAAA,MAAMG,IAAI,GAAGP,KAAK,CAACE,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKC,SAAS,CAAC,CAAA;AACpD,EAAA,MAAMG,OAAO,GAAGT,MAAM,CAACG,MAAM,CAC1BO,KAAK,IAAK,CAACR,YAAY,CAACS,QAAQ,CAACD,KAAK,CAACL,EAAE,CAC5C,CAAQ,CAAA;EAER,OAAO;IAAEI,OAAO;AAAED,IAAAA,IAAAA;GAAM,CAAA;AAC1B;;;;"}